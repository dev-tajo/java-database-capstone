
--
-- Database: `cms`
--

DELIMITER $$

--
-- Procedures
--

CREATE PROCEDURE `GetDailyAppointmentReportByDoctor` ( IN `report_date` DATE ) BEGIN
    SELECT 
        d.name AS doctor_name,
        a.appointment_time,
        a.status,
        p.name AS patient_name,
        p.phone AS patient_phone
    FROM 
        appointment a
    JOIN 
        doctor d ON a.doctor_id = d.id
    JOIN 
        patient p ON a.patient_id = p.id
    WHERE 
        DATE(a.appointment_time) = report_date
    ORDER BY 
        d.name, a.appointment_time;
END$$

CREATE PROCEDURE `GetDoctorWithMostPatientsByMonth` ( IN `input_month` INT, IN `input_year` INT ) BEGIN
    SELECT
        doctor_id, 
        COUNT(patient_id) AS patients_seen
    FROM
        appointment
    WHERE
        MONTH(appointment_time) = input_month 
        AND YEAR(appointment_time) = input_year
    GROUP BY
        doctor_id
    ORDER BY
        patients_seen DESC
    LIMIT 1;
END $$

CREATE PROCEDURE `GetDoctorWithMostPatientsByYear` ( IN `input_year` INT ) BEGIN
    SELECT
        doctor_id, 
        COUNT(patient_id) AS patients_seen
    FROM
        appointment
    WHERE
        YEAR(appointment_time) = input_year
    GROUP BY
        doctor_id
    ORDER BY
        patients_seen DESC
    LIMIT 1;
END $$

DELIMITER ;

-- --------------------------------------------------------

INSERT INTO admin (username, password, email)
VALUES ('admin', 'admin@1234', 'admin@example.com');

INSERT INTO appointment (appointment_time, status, doctor_id, patient_id, appointment_duration) VALUES
('2025-05-01 09:00:00.000000', 0, 1, 1, 3600),
('2025-05-02 10:00:00.000000', 0, 1, 2, 3600),
('2025-05-03 11:00:00.000000', 0, 1, 3, 3600),
('2025-05-04 14:00:00.000000', 0, 1, 4, 3600),
('2025-05-05 15:00:00.000000', 0, 1, 5, 3600),
('2025-05-06 13:00:00.000000', 0, 1, 6, 3600),
('2025-05-07 09:00:00.000000', 0, 1, 7, 3600),
('2025-05-08 16:00:00.000000', 0, 1, 8, 3600),
('2025-05-09 11:00:00.000000', 0, 1, 9, 3600),
('2025-05-10 10:00:00.000000', 0, 1, 10, 3600),
('2025-05-11 12:00:00.000000', 0, 1, 11, 3600),
('2025-05-12 15:00:00.000000', 0, 1, 12, 3600),
('2025-05-13 13:00:00.000000', 0, 1, 13, 3600),
('2025-05-14 10:00:00.000000', 0, 1, 14, 3600),
('2025-05-15 11:00:00.000000', 0, 1, 15, 3600),
('2025-05-16 14:00:00.000000', 0, 1, 16, 3600),
('2025-05-17 09:00:00.000000', 0, 1, 17, 3600),
('2025-05-18 12:00:00.000000', 0, 1, 18, 3600),
('2025-05-19 13:00:00.000000', 0, 1, 19, 3600),
('2025-05-20 16:00:00.000000', 0, 1, 20, 3600),
('2025-05-21 14:00:00.000000', 0, 1, 21, 3600),
('2025-05-22 10:00:00.000000', 0, 1, 22, 3600),
('2025-05-23 11:00:00.000000', 0, 1, 23, 3600),
('2025-05-24 15:00:00.000000', 0, 1, 24, 3600),
('2025-05-25 09:00:00.000000', 0, 1, 25, 3600),
('2025-05-01 10:00:00.000000', 0, 2, 1, 3600),
('2025-05-02 11:00:00.000000', 0, 3, 2, 3600),
('2025-05-03 14:00:00.000000', 0, 4, 3, 3600),
('2025-05-04 15:00:00.000000', 0, 5, 4, 3600),
('2025-05-05 10:00:00.000000', 0, 6, 5, 3600),
('2025-05-06 11:00:00.000000', 0, 7, 6, 3600),
('2025-05-07 14:00:00.000000', 0, 8, 7, 3600),
('2025-05-08 15:00:00.000000', 0, 9, 8, 3600),
('2025-05-09 10:00:00.000000', 0, 10, 9, 3600),
('2025-05-10 14:00:00.000000', 0, 11, 10, 3600),
('2025-05-11 13:00:00.000000', 0, 12, 11, 3600),
('2025-05-12 14:00:00.000000', 0, 13, 12, 3600),
('2025-05-13 15:00:00.000000', 0, 14, 13, 3600),
('2025-05-14 10:00:00.000000', 0, 15, 14, 3600),
('2025-05-15 11:00:00.000000', 0, 16, 15, 3600),
('2025-05-16 14:00:00.000000', 0, 17, 16, 3600),
('2025-05-17 10:00:00.000000', 0, 18, 17, 3600),
('2025-05-18 13:00:00.000000', 0, 19, 18, 3600),
('2025-05-19 14:00:00.000000', 0, 20, 19, 3600),
('2025-05-20 11:00:00.000000', 0, 21, 20, 3600),
('2025-05-21 13:00:00.000000', 0, 22, 21, 3600),
('2025-05-22 14:00:00.000000', 0, 23, 22, 3600),
('2025-05-23 10:00:00.000000', 0, 24, 23, 3600),
('2025-05-24 15:00:00.000000', 0, 25, 24, 3600),
('2025-05-25 13:00:00.000000', 0, 25, 25, 3600),
('2025-04-01 10:00:00.000000', 1, 1, 2, 3600),
('2025-04-02 11:00:00.000000', 1, 2, 3, 3600),
('2025-04-03 14:00:00.000000', 1, 3, 4, 3600),
('2025-04-04 15:00:00.000000', 1, 4, 5, 3600),
('2025-04-05 10:00:00.000000', 1, 5, 6, 3600),
('2025-04-06 11:00:00.000000', 1, 6, 7, 3600),
('2025-04-07 14:00:00.000000', 1, 7, 8, 3600),
('2025-04-08 15:00:00.000000', 1, 8, 9, 3600),
('2025-04-09 10:00:00.000000', 1, 9, 10, 3600),
('2025-04-10 14:00:00.000000', 1, 10, 11, 3600),
('2025-04-11 13:00:00.000000', 1, 11, 12, 3600),
('2025-04-12 14:00:00.000000', 1, 12, 13, 3600),
('2025-04-13 15:00:00.000000', 1, 13, 14, 3600),
('2025-04-14 10:00:00.000000', 1, 14, 15, 3600),
('2025-04-15 11:00:00.000000', 1, 15, 16, 3600),
('2025-04-16 14:00:00.000000', 1, 16, 17, 3600),
('2025-04-17 10:00:00.000000', 1, 17, 18, 3600),
('2025-04-18 13:00:00.000000', 1, 18, 19, 3600),
('2025-04-19 14:00:00.000000', 1, 19, 20, 3600),
('2025-04-20 11:00:00.000000', 1, 20, 21, 3600),
('2025-04-21 13:00:00.000000', 1, 21, 22, 3600),
('2025-04-22 14:00:00.000000', 1, 22, 23, 3600),
('2025-04-23 10:00:00.000000', 1, 23, 24, 3600),
('2025-04-24 15:00:00.000000', 1, 24, 25, 3600),
('2025-04-25 13:00:00.000000', 1, 25, 25, 3600),
('2025-04-01 09:00:00.000000', 1, 1, 1, 3600),
('2025-04-02 10:00:00.000000', 1, 1, 2, 3600),
('2025-04-03 11:00:00.000000', 1, 1, 3, 3600),
('2025-04-04 14:00:00.000000', 1, 1, 4, 3600),
('2025-04-05 10:00:00.000000', 1, 1, 5, 3600),
('2025-04-10 10:00:00.000000', 1, 1, 6, 3600),
('2025-04-11 09:00:00.000000', 1, 1, 7, 3600),
('2025-04-14 13:00:00.000000', 1, 1, 8, 3600),
('2025-04-01 10:00:00.000000', 1, 2, 1, 3600),
('2025-04-01 11:00:00.000000', 1, 2, 2, 3600),
('2025-04-02 09:00:00.000000', 1, 2, 3, 3600),
('2025-04-02 10:00:00.000000', 1, 2, 4, 3600),
('2025-04-03 11:00:00.000000', 1, 2, 5, 3600),
('2025-04-03 12:00:00.000000', 1, 2, 6, 3600),
('2025-04-04 14:00:00.000000', 1, 2, 7, 3600),
('2025-04-04 15:00:00.000000', 1, 2, 8, 3600),
('2025-04-05 10:00:00.000000', 1, 2, 9, 3600),
('2025-04-05 11:00:00.000000', 1, 2, 10, 3600),
('2025-04-06 13:00:00.000000', 1, 2, 11, 3600),
('2025-04-06 14:00:00.000000', 1, 2, 12, 3600),
('2025-04-07 09:00:00.000000', 1, 2, 13, 3600),
('2025-04-07 10:00:00.000000', 1, 2, 14, 3600),
('2025-04-08 11:00:00.000000', 1, 2, 15, 3600),
('2025-04-08 12:00:00.000000', 1, 2, 16, 3600),
('2025-04-09 13:00:00.000000', 1, 2, 17, 3600),
('2025-04-09 14:00:00.000000', 1, 2, 18, 3600),
('2025-04-10 11:00:00.000000', 1, 2, 19, 3600),
('2025-04-10 12:00:00.000000', 1, 2, 20, 3600),
('2025-04-11 14:00:00.000000', 1, 2, 21, 3600),
('2025-04-11 15:00:00.000000', 1, 2, 22, 3600),
('2025-04-12 10:00:00.000000', 1, 2, 23, 3600),
('2025-04-12 11:00:00.000000', 1, 2, 24, 3600),
('2025-04-13 13:00:00.000000', 1, 2, 25, 3600),
('2025-04-13 14:00:00.000000', 1, 2, 1, 3600),
('2025-04-14 09:00:00.000000', 1, 2, 2, 3600),
('2025-04-14 10:00:00.000000', 1, 2, 3, 3600),
('2025-04-15 12:00:00.000000', 1, 2, 4, 3600),
('2025-04-15 13:00:00.000000', 1, 2, 5, 3600),
('2025-04-01 12:00:00.000000', 1, 3, 1, 3600),
('2025-04-02 11:00:00.000000', 1, 3, 2, 3600),
('2025-04-03 13:00:00.000000', 1, 3, 3, 3600),
('2025-04-04 15:00:00.000000', 1, 3, 4, 3600),
('2025-04-05 12:00:00.000000', 1, 3, 5, 3600),
('2025-04-08 13:00:00.000000', 1, 3, 6, 3600),
('2025-04-09 10:00:00.000000', 1, 3, 7, 3600),
('2025-04-10 14:00:00.000000', 1, 3, 8, 3600),
('2025-04-11 13:00:00.000000', 1, 3, 9, 3600),
('2025-04-12 09:00:00.000000', 1, 3, 10, 3600),
('2025-04-01 14:00:00.000000', 1, 4, 1, 3600),
('2025-04-02 12:00:00.000000', 1, 4, 2, 3600),
('2025-04-03 14:00:00.000000', 1, 4, 3, 3600),
('2025-04-04 16:00:00.000000', 1, 4, 4, 3600),
('2025-04-05 14:00:00.000000', 1, 4, 5, 3600),
('2025-04-09 11:00:00.000000', 1, 4, 6, 3600),
('2025-04-10 13:00:00.000000', 1, 4, 7, 3600);

INSERT INTO doctor (email, name, password, phone, specialty) VALUES
('dr.adams@example.com', 'Dr. Emily Adams', 'pass12345', '555-101-2020', 'Cardiologist'),
('dr.johnson@example.com', 'Dr. Mark Johnson', 'secure4567', '555-202-3030', 'Neurologist'),
('dr.lee@example.com', 'Dr. Sarah Lee', 'leePass987', '555-303-4040', 'Orthopedist'),
('dr.wilson@example.com', 'Dr. Tom Wilson', 'w!ls0nPwd', '555-404-5050', 'Pediatrician'),
('dr.brown@example.com', 'Dr. Alice Brown', 'brownie123', '555-505-6060', 'Dermatologist'),
('dr.taylor@example.com', 'Dr. Taylor Grant', 'taylor321', '555-606-7070', 'Cardiologist'),
('dr.white@example.com', 'Dr. Sam White', 'whiteSecure1', '555-707-8080', 'Neurologist'),
('dr.clark@example.com', 'Dr. Emma Clark', 'clarkPass456', '555-808-9090', 'Orthopedist'),
('dr.davis@example.com', 'Dr. Olivia Davis', 'davis789', '555-909-0101', 'Pediatrician'),
('dr.miller@example.com', 'Dr. Henry Miller', 'millertime!', '555-010-1111', 'Dermatologist'),
('dr.moore@example.com', 'Dr. Ella Moore', 'ellapass33', '555-111-2222', 'Cardiologist'),
('dr.martin@example.com', 'Dr. Leo Martin', 'martinpass', '555-222-3333', 'Neurologist'),
('dr.jackson@example.com', 'Dr. Ivy Jackson', 'jackson11', '555-333-4444', 'Orthopedist'),
('dr.thomas@example.com', 'Dr. Owen Thomas', 'thomasPWD', '555-444-5555', 'Pediatrician'),
('dr.hall@example.com', 'Dr. Ava Hall', 'hallhall', '555-555-6666', 'Dermatologist'),
('dr.green@example.com', 'Dr. Mia Green', 'greenleaf', '555-666-7777', 'Cardiologist'),
('dr.baker@example.com', 'Dr. Jack Baker', 'bakeitup', '555-777-8888', 'Neurologist'),
('dr.walker@example.com', 'Dr. Nora Walker', 'walkpass12', '555-888-9999', 'Orthopedist'),
('dr.young@example.com', 'Dr. Liam Young', 'young123', '555-999-0000', 'Pediatrician'),
('dr.king@example.com', 'Dr. Zoe King', 'kingkong1', '555-000-1111', 'Dermatologist'),
('dr.scott@example.com', 'Dr. Lily Scott', 'scottish', '555-111-2223', 'Cardiologist'),
('dr.evans@example.com', 'Dr. Lucas Evans', 'evansEv1', '555-222-3334', 'Neurologist'),
('dr.turner@example.com', 'Dr. Grace Turner', 'turnerBurner', '555-333-4445', 'Orthopedist'),
('dr.hill@example.com', 'Dr. Ethan Hill', 'hillclimb', '555-444-5556', 'Pediatrician'),
('dr.ward@example.com', 'Dr. Ruby Ward', 'wardWard', '555-555-6667', 'Dermatologist');

INSERT INTO doctor_available_times (doctor_id, available_times) VALUES
(1, '09:00-10:00'), (1, '10:00-11:00'), (1, '11:00-12:00'), (1, '14:00-15:00'),
(2, '10:00-11:00'), (2, '11:00-12:00'), (2, '14:00-15:00'), (2, '15:00-16:00'),
(3, '09:00-10:00'), (3, '11:00-12:00'), (3, '14:00-15:00'), (3, '16:00-17:00'),
(4, '09:00-10:00'), (4, '10:00-11:00'), (4, '15:00-16:00'), (4, '16:00-17:00'),
(5, '09:00-10:00'), (5, '10:00-11:00'), (5, '14:00-15:00'), (5, '15:00-16:00'),
(6, '09:00-10:00'), (6, '10:00-11:00'), (6, '11:00-12:00'), (6, '14:00-15:00'),
(7, '09:00-10:00'), (7, '10:00-11:00'), (7, '15:00-16:00'), (7, '16:00-17:00'),
(8, '10:00-11:00'), (8, '11:00-12:00'), (8, '14:00-15:00'), (8, '15:00-16:00'),
(9, '09:00-10:00'), (9, '11:00-12:00'), (9, '13:00-14:00'), (9, '14:00-15:00'),
(10, '10:00-11:00'), (10, '11:00-12:00'), (10, '14:00-15:00'), (10, '16:00-17:00'),
(11, '09:00-10:00'), (11, '12:00-13:00'), (11, '14:00-15:00'), (11, '15:00-16:00'),
(12, '10:00-11:00'), (12, '11:00-12:00'), (12, '13:00-14:00'), (12, '14:00-15:00'),
(13, '13:00-14:00'), (13, '14:00-15:00'), (13, '15:00-16:00'), (13, '16:00-17:00'),
(14, '09:00-10:00'), (14, '10:00-11:00'), (14, '14:00-15:00'), (14, '16:00-17:00'),
(15, '10:00-11:00'), (15, '11:00-12:00'), (15, '13:00-14:00'), (15, '14:00-15:00'),
(16, '09:00-10:00'), (16, '11:00-12:00'), (16, '14:00-15:00'), (16, '16:00-17:00'),
(17, '09:00-10:00'), (17, '10:00-11:00'), (17, '11:00-12:00'), (17, '12:00-13:00'),
(18, '09:00-10:00'), (18, '10:00-11:00'), (18, '11:00-12:00'), (18, '15:00-16:00'),
(19, '13:00-14:00'), (19, '14:00-15:00'), (19, '15:00-16:00'), (19, '16:00-17:00'),
(20, '10:00-11:00'), (20, '13:00-14:00'), (20, '14:00-15:00'), (20, '15:00-16:00'),
(21, '09:00-10:00'), (21, '10:00-11:00'), (21, '14:00-15:00'), (21, '15:00-16:00'),
(22, '10:00-11:00'), (22, '11:00-12:00'), (22, '14:00-15:00'), (22, '16:00-17:00'),
(23, '11:00-12:00'), (23, '13:00-14:00'), (23, '15:00-16:00'), (23, '16:00-17:00'),
(24, '12:00-13:00'), (24, '13:00-14:00'), (24, '14:00-15:00'), (24, '15:00-16:00'),
(25, '09:00-10:00'), (25, '10:00-11:00'), (25, '14:00-15:00'), (25, '15:00-16:00');

INSERT INTO patient (address, email, name, date_of_birth, password, phone) VALUES
('101 Oak St, Cityville', 'jane.doe@example.com', 'Jane Doe', '1980-01-01', 'passJane1', '888-111-1111'),
('202 Maple Rd, Townsville', 'john.smith@example.com', 'John Smith', '1981-01-01', 'smithSecure', '888-222-2222'),
('303 Pine Ave, Villageton', 'emily.rose@example.com', 'Emily Rose', '1999-01-01', 'emilyPass99', '888-333-3333'),
('404 Birch Ln, Metropolis', 'michael.j@example.com', 'Michael Jordan', '2000-01-01', 'airmj23', '888-444-4444'),
('505 Cedar Blvd, Springfield', 'olivia.m@example.com', 'Olivia Moon', '2000-02-01', 'moonshine12', '888-555-5555'),
('606 Spruce Ct, Gotham', 'liam.k@example.com', 'Liam King', '2000-01-31', 'king321', '888-666-6666'),
('707 Aspen Dr, Riverdale', 'sophia.l@example.com', 'Sophia Lane', '2001-12-01', 'sophieLane', '888-777-7777'),
('808 Elm St, Newtown', 'noah.b@example.com', 'Noah Brooks', '2010-10-10', 'noahBest!', '888-888-8888'),
('909 Willow Way, Star City', 'ava.d@example.com', 'Ava Daniels', '1950-05-05', 'avaSecure8', '888-999-9999'),
('111 Chestnut Pl, Midvale', 'william.h@example.com', 'William Harris', '2002-02-28', 'willH2025', '888-000-0000'),
('112 Redwood St, Fairview', 'mia.g@example.com', 'Mia Green', '2011-11-11', 'miagreen1', '889-111-1111'),
('113 Cypress Rd, Edgewater', 'james.b@example.com', 'James Brown', '1998-08-09', 'jamiebrown', '889-222-2222'),
('114 Poplar Ave, Crestwood', 'amelia.c@example.com', 'Amelia Clark', '2007-07-02', 'ameliacool', '889-333-3333'),
('115 Sequoia Dr, Elmwood', 'ben.j@example.com', 'Ben Johnson', '2012-12-30', 'bennyJ', '889-444-4444'),
('116 Palm Blvd, Harborview', 'ella.m@example.com', 'Ella Monroe', '2004-04-01', 'ellam123', '889-555-5555'),
('117 Cottonwood Ct, Laketown', 'lucas.t@example.com', 'Lucas Turner', '2009-08-27', 'lucasTurn', '889-666-6666'),
('118 Sycamore Ln, Hilltop', 'grace.s@example.com', 'Grace Scott', '2011-11-11', 'graceful', '889-777-7777'),
('119 Magnolia Pl, Brookside', 'ethan.h@example.com', 'Ethan Hill', '2000-03-03', 'hill2025', '889-888-8888'),
('120 Fir St, Woodland', 'ruby.w@example.com', 'Ruby Ward', '2000-01-01', 'rubypass', '889-999-9999'),
('121 Beech Way, Lakeside', 'jack.b@example.com', 'Jack Baker', '2006-01-06', 'bakerjack', '889-000-0000'),
('122 Alder Ave, Pinehill', 'mia.h@example.com', 'Mia Hall', '2015-01-15', 'hallMia', '890-111-1111'),
('123 Hawthorn Blvd, Meadowbrook', 'owen.t@example.com', 'Owen Thomas', '2003-03-31', 'owen123', '890-222-2222'),
('124 Dogwood Dr, Summit', 'ivy.j@example.com', 'Ivy Jackson', '1979-09-07', 'ivyIvy', '890-333-3333'),
('125 Juniper Ct, Greenwood', 'leo.m@example.com', 'Leo Martin', '2002-02-02', 'leopass', '890-444-4444'),
('126 Olive Rd, Ashville', 'ella.moore@example.com', 'Ella Moore', '2000-01-01', 'ellamoore', '890-555-5555');

